<!-- request leave start -->
<div class="row">
  <div class="col-md-12">
    <div class="card">

      <!-- card header start -->
      <div class="card-header">
        <h5 class="card-title">Appointment Details</h5>

        <div class="card-tools">
          <button type="button" class="btn btn-tool" data-widget="collapse">
            <i class="fa fa-minus"></i>
          </button>
          <button type="button" class="btn btn-tool" data-widget="remove">
            <i class="fa fa-times"></i>
          </button>
        </div>
      </div>
      <!-- card-header end -->

      <!-- card body start -->
      <div class="card-body">
        <div class="row">
          <div class="col-md-12">
            <div class="card card-primary">

              <!-- form start -->
              <form [formGroup]="appointForm">

                <!-- card body start -->
                <div class="card-body">
                  <div class="row">
                      <div class="col-md-6">
                          <div class="form-group">
                            <label for="exampleInputEmail1">Employee Name</label>
                            <!-- <input name="funame" list="options" class=" form-control" [(ngModel)]="refObj.user">
                            <datalist id="options">
                              <option selected disabled>Select a Employee Name</option>
                              <option *ngFor="let users of user" data-value="{{users.id}}">{{users.fullName}}</option>
                            </datalist> -->
                            <select _ngcontent-c5="" class="form-control form-control-md" name="xyz" [(ngModel)]="appointmentObj.userId"
                            formControlName="empName" type="text" class="form-control form-control-sm" [class.is-invalid]="appointForm.get('empName').invalid && appointForm.get('empName').touched ">
                            <option selected disabled value="">Select Employee Name</option>
                            <option _ngcontent-c5="" selected="" *ngFor="let us of users" value="{{us.id}}" (click)="getUserId()" >
                              {{us.fullName}}</option>
                          </select>
                          <div *ngIf="appointForm.get('empName').invalid && appointForm.get('empName').touched ">
                            <small class="text-danger" *ngIf="appointForm.get('empName').errors?.required">Employee Name is Required </small>
                            
                          </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="exampleInputEmail1">Department</label>
                            <!-- <input type="text" class="form-control" name="start-date" id="end-date" name="locatioId"
                              [(ngModel)]="rolesandResObj.locatioId.locationName"> -->
                              <select _ngcontent-c5="" class="form-control form-control-md" name="department" [(ngModel)]="appointmentObj.departmentId"
                              formControlName="department" type="text" class="form-control form-control-sm" [class.is-invalid]="appointForm.get('department').invalid && appointForm.get('department').touched ">
                              <option selected disabled value="">Select Department Name</option>
                              <option _ngcontent-c5="" selected="" *ngFor="let department of departments" value="{{department.id}}" (click)="getDepartmentId()" >
                                  {{department.departmentName}}</option>
                              </select>
                              <div *ngIf="appointForm.get('department').invalid && appointForm.get('department').touched ">
                                <small class="text-danger" *ngIf="appointForm.get('department').errors?.required">Department is Required </small>
                                
                              </div>
                          </div>
                        </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="end-date">Jobdescription</label>
                          <input type="text" class="form-control" name="start-date" id="end-date" name="jobId" [(ngModel)]="appointmentObj.jobDesc"
                          formControlName="jobDescription" type="text" class="form-control form-control-sm" [class.is-invalid]="appointForm.get('jobDescription').invalid && appointForm.get('jobDescription').touched ">
                            <!-- <select _ngcontent-c5="" class="form-control form-control-md" name="job" [(ngModel)]="appointmentObj.jobName">
                              <option _ngcontent-c5="" selected="" *ngFor="let job of jobs" value="{{job.id}}" (click)="getJobId()" >
                                {{job.jobName}}</option>
                            </select> -->
                            <div *ngIf="appointForm.get('jobDescription').invalid && appointForm.get('jobDescription').touched ">
                              <small class="text-danger" *ngIf="appointForm.get('jobDescription').errors?.required">Job Description is Required</small>
                              <small class="text-danger" *ngIf="appointForm.get('jobDescription').errors?.maxlength">Please Enter below 50 characters </small>                              
                              <small class="text-danger" *ngIf="appointForm.get('jobDescription').errors?.minlength">Please Enter must be atleast 3 characters </small>
                            </div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="leave-days">Date of Appointment</label>
                          <input type="date" class="form-control" name="start-date" id="end-date" name="Appointment"[(ngModel)]="appointmentObj.appoinmentDate"
                          formControlName="appointDate"  class="form-control form-control-sm" [class.is-invalid]="appointForm.get('appointDate').invalid && appointForm.get('appointDate').touched ">
                          <div *ngIf="appointForm.get('appointDate').invalid && appointForm.get('empName').touched ">
                            <small class="text-danger" *ngIf="appointForm.get('appointDate').errors?.required">Date of Appointment is Required</small>
                          </div>
                        </div>
                      </div>
                      
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="exampleInputEmail1">Designation</label>
                          <!-- <input type="text" class="form-control" name="keyActivity" id="keyActivity" [(ngModel)]="rolesandResObj.keyActivityId.name"> -->
                          <select _ngcontent-c5="" class="form-control form-control-md" name="key" [(ngModel)]="appointmentObj.designationId"
                          formControlName="designation" type="text" class="form-control form-control-sm" [class.is-invalid]="appointForm.get('designation').invalid && appointForm.get('designation').touched ">
                          <option selected disabled value="">Select Designation</option>
                          <option _ngcontent-c5="" selected="" *ngFor="let designation of designations" value="{{designation.id}}" (click)="getDesignationId()" >
                              {{designation.designationName}}</option>
                          </select>
                          <div *ngIf="appointForm.get('designation').invalid && appointForm.get('designation').touched ">
                            <small class="text-danger" *ngIf="appointForm.get('designation').errors?.required">Designation is Required</small>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="exampleInputEmail1">Type of Appointment</label>
                          <!-- <input type="text" class="form-control" name="keyActivity" id="keyActivity" [(ngModel)]="rolesandResObj.keyActivityId.name"> -->
                          <select _ngcontent-c5="" class="form-control form-control-md" name="key" [(ngModel)]="appointmentObj.appointmentTypeId"
                          formControlName="appointType" type="text" class="form-control form-control-sm" [class.is-invalid]="appointForm.get('appointType').invalid && appointForm.get('appointType').touched ">
                          <option selected disabled value="">Select Appointment </option>
                          <option _ngcontent-c5="" selected="" *ngFor="let appointmentType of appointmentTypes" value="{{appointmentType.id}}" (click)="getAppointmentTypeId()" >
                              {{appointmentType.appointmentType}}</option>
                          </select>
                          <div *ngIf="appointForm.get('appointType').invalid && appointForm.get('appointType').touched ">
                            <small class="text-danger" *ngIf="appointForm.get('appointType').errors?.required">empName Name is Required</small>
                          </div>
                        </div>
                      </div>
                      
                    </div>
                  </div>
                  <!-- card body end -->

                  <div class="card-footer">
                    <button type="button" class="btn btn-primary" data-toggle="modal" (click)="CreateAppointmentDetails()">Add</button>
                  </div>
              </form>
              <!-- form end -->
            </div>
          </div>
        </div>

      </div>
      <!-- card body end -->

    </div>
  </div>
</div>
















<section class="content">
  <!-- tab content start -->
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="tab1_content" aria-labelledby="tab1_content">
      <!-- <app-request-leave></app-request-leave> -->

      <!-- appoinment start -->
      <div class="row">
        <div class="col-md-12">
          <div class="card">

            <!-- card header start -->
            <div class="card-header">
              <h5 class="card-title">Appoinment Details</h5>
              <div class="card-tools">
                <button type="button" class="btn btn-tool" data-widget="collapse">
                  <i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-tool" data-widget="remove">
                  <i class="fa fa-times"></i>
                </button>
              </div>
            </div>
            <!-- card header end -->

            <!-- card body start -->
            <div class="card-body">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <!-- <th >Id</th> -->
                    <th>User Name</th>
                    <th>Department</th>
                    <th >Jobdescription</th>
                    <th >Date of appoinement</th>
                    <th >Designation</th>
                    <th >Type of appoinement</th>
                    
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let appointment of appointmentDetails" >
                    <!-- <td>{{appointment.id}}</td> -->
                    <td>{{appointment.user.fullName}}</td>
                    <td>{{appointment.departmentId.departmentName}}</td>
                    <td>{{appointment.jobDesc}}</td>
                    <td>{{appointment.appoinmentDate}}</td>
                    <td>{{appointment.designationId.designationName}}</td>
                    <td>{{appointment.appointmentTypeId.appointmentType}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- card body end -->
          </div>
        </div>
      </div>
  </div>
</div>
  <!-- tab content end -->

</section>
